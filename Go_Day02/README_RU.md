# День 02 - Go Boot Camp: Синдром "Не изобретено здесь"

## Оглавление

- [Описание проекта](#описание-проекта)  
- [Функциональность](#функциональность)  
  - [Упражнение 00: Поиск вещей](#упражнение-00-поиск-вещеи)  
  - [Упражнение 01: Подсчет вещей](#упражнение-01-подсчет-вещеи)  
  - [Упражнение 02: Запуск вещей](#упражнение-02-запуск-вещеи)  
  - [Упражнение 03: Архивирование вещей](#упражнение-03-архивирование-вещеи)  
- [Технологии](#технологии)  
- [Структура проекта](#структура-проекта)  
- [Примеры использования](#примеры-использования)  

---

## Описание проекта

Этот проект реализует набор Unix-подобных утилит на языке Go, демонстрируя возможности работы с файловой системой, параллельной обработкой данных и построением конвейеров команд. Проект включает четыре утилиты, каждая из которых решает конкретную задачу обработки данных.

---

## Функциональность

### Упражнение 00: Поиск вещей

**Рекурсивный поиск файлов:**

- Фильтрация по типу: файлы (`-f`), каталоги (`-d`), симлинки (`-sl`)  
- Поиск по расширению (`-ext`)  
- Обработка битых символических ссылок  
- Рекурсивный обход директорий  
- Форматированный вывод с целями симлинков  

**Пример команды:**

```bash
go run myFind.go -f -ext 'go' /path/to/search
```

---

### Упражнение 01: Подсчет вещей

**Текстовая статистика:**

- Подсчет слов (`-w`)  
- Подсчет строк (`-l`)  
- Подсчет символов (`-m`)  
- Параллельная обработка файлов  
- Поддержка UTF-8 (русский/английский)  
- Форматированный вывод с именем файла  

**Пример команды:**

```bash
go run myWC.go -l file1.txt file2.txt
```

---

### Упражнение 02: Запуск вещей

**Построение команд:**

- Чтение аргументов из STDIN  
- Формирование команд из входных данных  
- Интеграция с другими утилитами  
- Поддержка конвейерной обработки  

**Пример команды:**

```bash
echo "file1.txt file2.txt" | go run myXargs.go wc -l
```

---

### Упражнение 03: Архивирование вещей

**Ротация логов:**

- Архивирование в `tar.gz`  
- Использование временной метки MTIME  
- Указание каталога назначения (`-a`)  
- Параллельная обработка файлов  
- Автоматическое именование архивов  

**Пример команды:**

```bash
go run myRotate.go -a ./archive /path/to/logs/*.log
```

---

## Технологии

**Язык:** Go

**Ключевые пакеты:**

- `os` — работа с файловой системой  
- `filepath` — кросс-платформенные пути  
- `bufio` — буферизованный ввод/вывод  
- `sync` — примитивы синхронизации  
- `archive/tar`, `compress/gzip` — архивирование  

**Концепции:**

- Параллелизм (горутины)  
- Конвейерная обработка  
- Рекурсивный обход файлов  
- Обработка ошибок (пропуск недоступных ресурсов)  

---

## Структура проекта

```
Go_Day02/
├── README_RU.md
└── src/
    ├── ex00/                      # Поиск файлов
    │   ├── myFind.go              # Основная программа
    │   ├── exmplBrokenLink        # Тестовая битая ссылка
    │   └── src                    # Тестовая директория
    ├── ex01/                      # Подсчет текста
    │   ├── myWC.go                # Основная программа
    │   ├── exampl1.txt            # Пример текста
    │   └── exampl2.txt            # Пример текста
    ├── ex02/                      # Построение команд
    │   ├── myXargs.go             # Основная программа
    │   └── test.txt               # Тестовые данные
    └── ex03/                      # Ротация логов
        ├── myRotate.go            # Основная программа
        ├── exampl1.log            # Пример лога
        ├── exampl2.log            # Пример лога
        └── data/
            └── archive/
```

---

## Примеры использования

### Поиск Go-файлов

```bash
cd src/ex00
go run myFind.go -f -ext 'go' ~/projects
```

**Вывод:**

```
/home/user/projects/main.go
/home/user/projects/utils/fileutils.go
/home/user/projects/utils/stringutils.go
```

---

### Подсчет слов в файлах

```bash
cd src/ex01
go run myWC.go -w exampl1.txt exampl2.txt
```

**Вывод:**

```
42     exampl1.txt
128    exampl2.txt
```

---

### Конвейерный поиск и подсчет

```bash
cd src/ex00
go run myFind.go -f -ext 'log' /var/log | cd ../ex02 && go run myXargs.go ../ex01/myWC -l
```

**Вывод:**

```
42     /var/log/system.log
128    /var/log/app.log
```

---

### Ротация логов

```bash
cd src/ex03
go run myRotate.go -a data/archive exampl1.log exampl2.log
```

**Вывод:**

```
Created: data/archive/exampl1_1672531200.tar.gz
Created: data/archive/exampl2_1672531260.tar.gz
```
